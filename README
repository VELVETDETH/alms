This is a prototype implementation of Alms, an affine language with
modules and subtyping.

Please see http://www.ccs.neu.edu/home/tov/pubs/alms/ for
more information.

CONTENTS

 * GETTING STARTED
 * USAGE
 * THE LANGUAGE
 * EDITLINE TROUBLE

GETTING STARTED

  We require GHC to build.  It is known to work with GHC 6.10.4,
  and likely will not work with GHC 6.8.

  Provided that a recent ghc is in your path, to build on UNIX it ought
  to be be sufficient to type:

    % make

  This should produce an executable "affine" in the current directory,

  If it fails, it may also be necessary to either install the editline
  package first or disable line editing (Please see EDITLINE TROUBLE).

  On Windows, build with Cabal:

    > runghc Setup.hs configure
    > runghc Setup.hs build

  This produces an executable in "dist\build\alms\alms".

USAGE

  Examples from the paper, and several more, are in the examples/
  directory.  To try the echo server example on port 10000,
  run:

    % ./alms examples/echoServer.alms 10000

  To connect to the echo server, you can run

    % ./alms examples/netcat.alms localhost 10000

  from another terminal.

  The examples directory contains many more examples, many of which
  are small, but demonstrate type or or contract errors -- the comment at
  the top of each example says what to expect.  Run many of the examples
  with:

    % make examples

  Or run the examples as regression tests (quietly):

    % make tests

  We can also run the interpreter in interactive mode:

    % ./alms

  The program also accepts several flags:

    -t   Don't type check
    -x   Don't execute
    -v   Verbose (results, types)

EDITLINE TROUBLE

  Line editing is enabled in the REPL by default, which depends on the
  editline Cabal package.  If make fails and says something about
  editline, then there are three options:

   - Disable line editing:

       % make clean; make FLAGS=-editline

   - Use readline instead:

       % make clean; make FLAGS=readline

   - Try to install editline or readline . . .

  Installing editline can be kind of touchy.  On my system,

    % cabal install editline

  seemed to install it, but Cabal still couldn't find it when
  building this program.  Installing editline globally made it work:

    % sudo cabal install --global editline

  (Likewise, readline didn't work until I installed it globally.)

  At this point, older versions of Cabal may give the installed library
  bad permissions, so something like this may help, depending on where
  it installs things:

    % sudo chmod -R a+rX /usr/local/lib/editline*

  If the cabal installation of the GHC package fails, it may be
  necessary first to install the C library that it depends on.  The
  source is available at http://www.thrysoee.dk/editline/.  On my debian
  system, I was able to install it with:

    % sudo aptitude install libedit2 libedit-dev

  Note that libeditline is a *completely different* library, and
  installing that will not help.

