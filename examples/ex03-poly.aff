(* Polymorphic version: A Blameworthy C Module (blame inc2) *)

let[A] ap =
  fun 'a 'b (f: 'a -o 'b) (x: 'a) -> f x

let[C] inc2 =
  fun y: int ->
    let g = ap (fun z: int -> z + 1) in
      g (g y)   (* g is used twice here *)

in print (inc2 5)
