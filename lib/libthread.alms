(* "Single-threaded" threads *)

module AThread = struct
  abstype thread qualifier A = T of Thread.thread with
    let fork = ( Thread.fork :> (unit -o unit) -> Thread.thread )

    let kill (T th: thread) =
      Thread.kill th

    let delay = Thread.delay

    let print (T th: thread) =
      Thread.print th;
      T th
  end
end
